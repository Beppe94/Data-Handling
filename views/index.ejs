<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Users</title>
</head>
<body>
    <h1><%= title %></h1>
    <div>
        <%-include("partials/errors.ejs")%>
        <form action="/search" method="GET" name="search">
            <label for="search">Search User</label>
            <input type="search" name="search" id="search" placeholder="First or Second Name">
        </form>
    </div>
    <ul>
        <%if(locals.users) {%>
            <%users.forEach(user => {%>
                <div>
                    <h1><%=user.firstName%> <%=user.lastName%> <strong><%=user.age%></strong></h1>
                    <p><%=user.email%></p> 
                    <div>
                        <p><%=user.bio%></p>
                    </div>
                    <div>
                        <button>
                            <a href="/<%=user.id%>/update">Edit</a>
                        </button>
                        <form action="/<%=user.id%>/delete" method="POST" style="display:inline;">
                            <button type="submit" 
                                onclick="return confirm('Are you sure you want to delete this user?')">
                                Delete
                            </button>
                        </form>
                    </div>
                </div>
            <%})%> 
        <%}%>
    </ul>
    <button>
        <a href="/create">Create User</a>
    </button>
    <button>
        <a href="/createUsername">Create username</a>
    </button>
</body>
</html>